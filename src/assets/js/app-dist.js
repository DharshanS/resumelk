"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Header=function t(){var e=this;_classCallCheck(this,t),this.scrollHandler=function(){50<=e.$DOM.window.scrollTop()?e.$DOM.header.addClass(e.selectors.header+"--scrolled"):e.$DOM.header.removeClass(e.selectors.header+"--scrolled")},this.toggleNav=function(){e.$DOM.btn.toggleClass(e.selectors.btn+"--active"),e.$DOM.header.toggleClass(e.selectors.header+"--active"),e.$DOM.nav.stop().slideToggle("fast")},this.selectors={window:window,header:"header",btn:"header__btn",nav:"header__nav"},this.$DOM={window:$(this.selectors.window),header:$("."+this.selectors.header),btn:$("."+this.selectors.btn),nav:$("."+this.selectors.nav)},this.$DOM.window.scroll(this.scrollHandler),this.$DOM.btn.click(this.toggleNav)},ScrollManager=function t(e){var l=this;_classCallCheck(this,t),this.scroll=function(t){t.preventDefault();var e=$(t.currentTarget).attr("data-scroll-to"),s=$('[data-scroll-target="'+e+'"]'),i=0;l.$window.width()<768?(i=$(".header__content-controls").innerHeight()+60,l._$header.toggleNav()):i=$(".header").innerHeight(),$.scrollTo(s,500,{offset:{top:-i}})},this._$header=e,this.$window=$(window),this.$trigger=$("[data-scroll-to]"),this.$trigger.click(this.scroll)},PopupManager=function t(){var s=this;_classCallCheck(this,t),this.closePopup=function(){s.$DOM.body.removeClass("u-no-scroll"),s.$DOM.popup.removeClass("popup--active")},this.openPopup=function(t){s.$DOM.body.addClass("u-no-scroll");var e=$(t.currentTarget).attr("data-popup-trigger");$('[data-popup-target="'+e+'"]').toggleClass("popup--active")},this.selectors={body:"body",popup:"popup",trigger:"[data-popup-trigger]",content:"popup__content",inner:"popup__inner"},this.$DOM={body:$(this.selectors.body),popup:$("."+this.selectors.popup),trigger:$(this.selectors.trigger),content:$("."+this.selectors.content),inner:$("."+this.selectors.inner)},this.$DOM.trigger.click(this.openPopup),this.$DOM.content.click(this.closePopup),this.$DOM.inner.click(function(t){t.stopPropagation()})},TemplatesManager=function t(){var s=this;_classCallCheck(this,t),this.changePopupPreview=function(t){var e=$(t.currentTarget).attr("data-popup-src");s.$DOM.previewImg.attr("src",e)},this.selectors={previewTrigger:"[data-popup-trigger]",previewImg:"[data-popup-src-target]"},this.$DOM={previewTrigger:$(this.selectors.previewTrigger),previewImg:$(this.selectors.previewImg)},this.$DOM.previewTrigger.click(this.changePopupPreview)},Editor=function t(){var s=this;_classCallCheck(this,t),this.readURL=function(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){s.$DOM.profileImg.css("background-image","url('"+t.target.result+"')")},e.readAsDataURL(t.files[0])}};var e=this;this.selectors={statusChart:"editor__status-chart",sortableSelector:"[data-sortable]",educationEditor:"editor__education-wysiwyg",personalInfoEditor:"editor__personal-info-wysiwyg",profileImg:"editor__photo-img",profileImgInput:"editor__photo-input"},this.$DOM={statusChart:$("."+this.selectors.statusChart),sortableSelector:$(this.selectors.sortableSelector),educationEditor:$("."+this.selectors.educationEditor),personalInfoEditor:$("."+this.selectors.personalInfoEditor),profileImg:$("."+this.selectors.profileImg),profileImgInput:$("."+this.selectors.profileImgInput)},this.$DOM.profileImgInput.change(function(){e.readURL(this)}),this.$DOM.statusChart.circleProgress({value:.65,size:1e3,fill:"#61abfd",emptyFill:"#ececec",startAngle:-Math.PI/2,lineCap:"round"}),this.$DOM.sortableSelector.each(function(t){var e=$(this);Sortable.create(e[0],{animation:150,handle:".fa-bars",forceFallback:!0})}),this.$DOM.personalInfoEditor.trumbowyg({resetCss:!0,btns:[["fontfamily"],["strong","em","underline","del","justifyLeft","justifyCenter","justifyRight","justifyFull"]]}),this.$DOM.educationEditor.trumbowyg({resetCss:!0,btns:[["fontfamily"],["strong","em","underline","del","justifyLeft","justifyCenter","justifyRight","justifyFull"]]})},EditorEducation=function t(){var l=this;_classCallCheck(this,t),this.changeFocus=function(t){var e=$(t.currentTarget);e.addClass("editor__group-item--active").siblings().removeClass("editor__group-item--active"),l.loadData(l.dataModel[e.index()])},this.loadData=function(t){if(null!=t){var e=l.$DOM.form.find("input[type='checkbox']");l.$DOM.form.find("[data-education-institution]").val(t[0]),l.$DOM.form.find("[data-education-field]").val(t[1]),l.$DOM.form.find("[data-education-city]").val(t[2]),l.$DOM.form.find("[data-education-country]").val(t[3]),l.$DOM.form.find("[data-education-start-month]").val(t[4]),l.$DOM.form.find("[data-education-start-year]").val(t[5]),l.$DOM.form.find("[data-education-end-month]").val(t[6]),l.$DOM.form.find("[data-education-end-year]").val(t[7]),"on"===t[8]?e.prop("checked",!0):e.prop("checked",!1),l.$DOM.wysiwyg.trumbowyg("html",t[9])}else l.clearForm()},this.deleteListItem=function(t){var e=$("[data-education-list-item]");if(1<e.length){var s=$(t.currentTarget),i=s.parents("[data-education-list-item]");l.changeFocus({currentTarget:i.prev()[0]}),l.listModel.splice(s.index(),1),l.dataModel.splice(s.index(),1),e.each(function(t){var e=$(this);e.find("p").text("Education #"+(e.index()+1))}),i.remove()}},this.createListItem=function(t){var e=l.$DOM.listItem.clone(!0,!0);e.removeClass("editor__group-item--active").appendTo(l.$DOM.list);var s=l.getFormData();l.listModel.push(e),e.find("p").text("Education #"+l.listModel.length),e.addClass("editor__group-item--active").prev().removeClass("editor__group-item--active"),l.dataModel.push(s),l.clearForm()},this.clearForm=function(){var t=l.$DOM.form.find("input, select");t.find("input[type='checkbox']").prop("checked",!1),t.each(function(t){$(this).val("")}),l.$DOM.wysiwyg.trumbowyg("empty")},this.getFormData=function(){var s=[];l.$DOM.form.find("input, select").each(function(t){var e=$(this);s.push(e.val())});var t=l.$DOM.wysiwyg.trumbowyg("html");return s.push(t),s},this.listModel=[],this.dataModel=[],this.selectors={btnNewEducation:"[data-education-side-btn]",list:"[data-education-list]",listItem:"[data-education-list-item]",listDelete:"[data-education-delete]",form:"[data-education-form]",wysiwyg:"[data-education-wysiwyg]"},this.$DOM={btnNewEducation:$(this.selectors.btnNewEducation),list:$(this.selectors.list),listItem:$(this.selectors.listItem),listDelete:$(this.selectors.listDelete),form:$(this.selectors.form),wysiwyg:$(this.selectors.wysiwyg)},this.listModel.push(this.$DOM.listItem),this.$DOM.btnNewEducation.click(this.createListItem),this.$DOM.listDelete.click(this.deleteListItem),this.$DOM.listItem.click(this.changeFocus)},EditorSkills=function t(){var l=this;_classCallCheck(this,t),this.changeFocus=function(t){var e=$(t.currentTarget);e.addClass("editor__group-item--active").siblings().removeClass("editor__group-item--active"),l.loadData(l.dataModel[e.index()])},this.loadData=function(t){if(null!=t){l.$DOM.form.find("[data-skills-category]").val(t.category),l.$DOM.form.find("[data-skills-name]").val(t.skills[0][0]),l.$DOM.form.find("[data-skills-level]").val(t.skills[0][1]);var e=t.skills.length;if(1<e)for(var s=1;s<e;s++){var i=l.$DOM.skillsItem.clone(!0,!0).attr("data-skills-form-item-cloned","true");i.find("[data-skills-name]").val(t.skills[s][0]),i.find("[data-skills-level]").val(t.skills[s][1]),i.appendTo(l.$DOM.skillsList)}}else l.clearForm()},this.deleteListItem=function(t){var e=$("[data-skills-list-item]");if(1<e.length){var s=$(t.currentTarget),i=s.parents("[data-skills-list-item]");l.changeFocus({currentTarget:i.prev()[0]}),l.listModel.splice(s.index(),1),l.dataModel.splice(s.index(),1),e.each(function(t){var e=$(this);e.find("p").text("Skill #"+(e.index()+1))}),i.remove()}},this.deleteSkillsItem=function(t){if(1<$("[data-skills-item]").length){var e=$(t.currentTarget).parents("[data-skills-item]"),s=l.dataModel[e.index()-2];null!=s&&s.skills.splice(e.index()-1,1),e.remove()}},this.createSkillsItem=function(){l.$DOM.skillsItem.clone(!0,!0).attr("data-skills-form-item-cloned","true").appendTo(l.$DOM.skillsList)},this.createListItem=function(t){var e=l.$DOM.listItem.clone(!0,!0);e.removeClass("editor__group-item--active").appendTo(l.$DOM.list);var s=l.getFormData();l.listModel.push(e),e.find("p").text("Skill #"+l.listModel.length),e.addClass("editor__group-item--active").prev().removeClass("editor__group-item--active"),l.dataModel.push(s),l.clearForm()},this.clearForm=function(){var t=l.$DOM.form.find("input, select");l.$DOM.form.find("[data-skills-form-item-cloned]").remove(),t.each(function(t){$(this).val("")})},this.getFormData=function(){var s=[];l.$DOM.form.find("input, select").each(function(t){var e=$(this);s.push(e.val())});var t=s.slice(1).reduce(function(t,e,s,i){return s%2==0&&t.push(i.slice(s,s+2)),t},[]);return{category:s[0],skills:t}},this.listModel=[],this.dataModel=[],this.selectors={btnNewCategory:"[data-skills-side-btn]",btnNewSkill:"[data-skills-inner-btn]",list:"[data-skills-list]",listItem:"[data-skills-list-item]",listDelete:"[data-skills-delete]",form:"[data-skills-form]",skillsItem:"[data-skills-item]",skillsList:"[data-skills-form-items]",skillsDelete:"[data-skills-form-delete]"},this.$DOM={btnNewCategory:$(this.selectors.btnNewCategory),btnNewSkill:$(this.selectors.btnNewSkill),list:$(this.selectors.list),listItem:$(this.selectors.listItem),listDelete:$(this.selectors.listDelete),form:$(this.selectors.form),skillsItem:$(this.selectors.skillsItem),skillsList:$(this.selectors.skillsList),skillsDelete:$(this.selectors.skillsDelete)},this.listModel.push(this.$DOM.listItem),this.$DOM.btnNewCategory.click(this.createListItem),this.$DOM.btnNewSkill.click(this.createSkillsItem),this.$DOM.listDelete.click(this.deleteListItem),this.$DOM.skillsDelete.click(this.deleteSkillsItem),this.$DOM.listItem.click(this.changeFocus)};$(document).ready(function(){var t=new Header;new ScrollManager(t);if($(".templates__slider").not(".templates__slider--small").slick({mobileFirst:!0,slidesToScroll:1,slidesToShow:1,arrows:!0,dots:!1,prevArrow:"<div class='slider__arrow slider__arrow--prev'><i class='fas fa-chevron-left'></i></div>",nextArrow:"<div class='slider__arrow slider__arrow--next'><i class='fas fa-chevron-right'></i></div>",autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:1200,settings:{slidesToShow:4}}]}),$(".templates__slider--small").slick({mobileFirst:!0,slidesToScroll:1,slidesToShow:1,arrows:!0,dots:!1,prevArrow:"<div class='slider__arrow slider__arrow--small slider__arrow--prev'><i class='fas fa-chevron-left'></i></div>",nextArrow:"<div class='slider__arrow slider__arrow--small slider__arrow--next'><i class='fas fa-chevron-right'></i></div>",autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:768,settings:{slidesToShow:2}}]}),$(".testimonials__slider").slick({mobileFirst:!0,slidesToScroll:1,slidesToShow:1,dots:!0,arrows:!1,adaptiveHeight:!0,customPaging:function(){return""},responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]}),0<$(".popup").length)new PopupManager;if(0<$(".select-template").length)new TemplatesManager;if(0<$(".editor").length)new Editor,new EditorEducation,new EditorSkills});
//# sourceMappingURL=app-dist.js.map